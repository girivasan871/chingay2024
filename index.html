<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <header>
      <div class="banner">
        <img src="./images/Chingay1.jpg" />
      </div>
      <div class="writeup">
        <h1>
          Chingay has become a uniquely Singaporean tradition and a borderless
          festival, which reflects our vibrant and multicultural society.
        </h1>
        <h1>
          Chingay has evolved with creative and innovative concepts, powered by
          the passions, dreams and aspirations of the people.
        </h1>
        <h1>
          Singapore will be doing a joint nomination of Chingay for UNESCO.
        </h1>
        <h1>
          We will like you and your community to pledge support as this will be
          part of submission to UNESCO.
        </h1>
      </div>
      <div class="count">
        <h1>COUNTER : <span id="counter">0</span></h1>
      </div>
      <div class="choice">
        <h2>Enter Your Name and Select one of the Following</h2>
      </div>
      <div class="name">
        <input type="text" id="nameInput" placeholder="NAME" /><br />
      </div>
      <div class="your-msg">
        <!-- <fieldset>
          <legend>Choose your monster's features:</legend>

          <div>
            <input type="checkbox" id="scales" name="scales" checked />
            <label for="scales">Scales</label>
          </div>

          <div>
            <input type="checkbox" id="horns" name="horns" />
            <label for="horns">Horns</label>
          </div>
        </fieldset>
        </label>
        -->
        <!--
        <label class="label">
          <input type="checkbox" name="checkbox" value="text" />
          <h2>
            Let's light up the world with Chingay spirit. Join me in supporting
            #chingayforunesco
          </h2>
        </label>
        <label class="label">
          <input type="checkbox" name="checkbox" value="text" />
          <h2>
            Bringing Singapore's multiculturalism to the world. Join me in
            supporting #chingayforunesco
          </h2>
        </label>
        <label class="label">
          <input type="checkbox" name="checkbox" value="text" />
          <h2>
            For the community by the community for generations. Join me in
            supporting #chingayforunesco
          </h2>
        </label>
        <label class="label">
          <input type="checkbox" name="checkbox" value="text" />
          <h2>
            Chingay, a singapore street parade. Join me in supporting
            #chingayforunesco
          </h2>
        </label>
      </div> -->
        <div class="checkbox-group">
          <label
            ><input type="checkbox" class="checkbox" value="Option 1" />
            <h2>
              Let's light up the world with Chingay spirit. Join me in
              supporting #chingayforunesco
            </h2></label
          ><br />
          <label
            ><input type="checkbox" class="checkbox" value="Option 2" />
            <h2>
              Bringing Singapore's multiculturalism to the world. Join me in
              supporting #chingayforunesco
            </h2></label
          ><br />
          <label
            ><input type="checkbox" class="checkbox" value="Option 3" />
            <h2>
              For the community by the community for generations. Join me in
              supporting #chingayforunesco
            </h2></label
          ><br />
          <label
            ><input type="checkbox" class="checkbox" value="Option 4" />
            <h2>
              Chingay, a singapore street parade. Join me in supporting
              #chingayforunesco
            </h2></label
          >
        </div>
      </div>

      <div class="click-submit-button">
        <a id="button-submit">Click Here to Show Your Support </a>
      </div>
      <div class="destination">
        <h2 id="destination"></h2>
      </div>
      <div id="share" class="share">
        <button onclick="myFunction()">Copy text</button>
        <a
          href="https://www.facebook.com/sharer/sharer.php?u=http//xxxxxxxxx.co.uk/index.html/"
          ><i class="fa-brands fa-facebook" style="color: #ffd43b"></i
          >FACEBOOK</a
        >
        <a
          ><i class="fa-brands fa-square-instagram" style="color: #ffd43b"></i
          >INSTAGRAM</a
        >
      </div>
    </header>
    <script>
      // JavaScript function to copy single checkbox label text
      document
        .getElementById("button-submit")
        .addEventListener("click", function () {
          // Get all checkboxes
          var checkboxes = document.querySelectorAll(".checkbox");
          var name = document.getElementById("nameInput").value;
          var share = document.getElementById("share");
          var selectedLabel = "";

          // Loop through each checkbox and find the one that's checked
          checkboxes.forEach(function (checkbox) {
            if (checkbox.checked) {
              selectedLabel = checkbox.parentNode.textContent.trim(); // Copy the label text
            }
          });

          // If a checkbox is selected, copy its label, else display a message
          if (selectedLabel) {
            document.getElementById("destination").textContent =
              "Hello ! " + name + " - " + selectedLabel;
            document.getElementById("destination").style.display = "block";
            document.getElementById("share").style.display = "block";
          } else {
            document.getElementById("destination").textContent =
              "No checkbox selected.";
          }
        });

      // Initialize the counter and get users from localStorage
      let counter = parseInt(localStorage.getItem("counter")) || 0; // Retrieve or initialize counter
      const users = new Set(JSON.parse(localStorage.getItem("users")) || []); // Retrieve or initialize users

      // Display the current counter value
      document.getElementById("counter").textContent = counter;

      // Get references to the button and input field
      const submitBtn = document.getElementById("button-submit");
      const usernameInput = document.getElementById("nameInput");

      // Function to handle the submit button click
      submitBtn.addEventListener("click", () => {
        const username = usernameInput.value.trim(); // Get and trim the username input

        // Check if the username is valid and not already submitted
        if (username && !users.has(username)) {
          users.add(username); // Add the user to the set
          counter++; // Increment the counter

          // Update localStorage
          localStorage.setItem("counter", counter); // Save the counter
          localStorage.setItem("users", JSON.stringify(Array.from(users))); // Save the users

          // Update the display
          document.getElementById("counter").textContent = counter;
          usernameInput.value = ""; // Clear the input field
        } else if (users.has(username)) {
          alert("You have already submitted!"); // Alert for duplicate submission
        } else {
          alert("Please enter a valid username."); // Alert for empty input
        }
      });

      // Ensure only one checkbox can be selected at a time
      var checkboxes = document.querySelectorAll(".checkbox");
      checkboxes.forEach(function (checkbox) {
        checkbox.addEventListener("change", function () {
          checkboxes.forEach(function (box) {
            if (box !== checkbox) box.checked = false; // Uncheck all other checkboxes
          });
        });
      });
    </script>
  </body>
</html>
